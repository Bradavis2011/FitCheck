<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Or This? ‚Äî Agent Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Playfair+Display:ital@1&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            coral: { DEFAULT: '#E85D4C', light: '#FF7A6B', dark: '#C94A3A' },
            cream: { DEFAULT: '#FBF7F4', dark: '#F5EDE7' },
          },
          fontFamily: {
            sans: ['DM Sans', 'ui-sans-serif', 'system-ui'],
          },
          borderRadius: { '2xl': '16px', '3xl': '24px' },
        }
      }
    }
  </script>
  <link rel="stylesheet" href="/dashboard/styles.css">
</head>
<body class="bg-cream font-sans antialiased">

  <!-- ‚îÄ‚îÄ‚îÄ Login Page ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div id="page-login" class="min-h-screen flex items-center justify-center p-4">
    <div class="w-full max-w-md">
      <div class="card p-8">
        <div class="text-center mb-8">
          <div class="logo-icon mx-auto mb-4">?</div>
          <h1 class="editorial-heading" style="font-size:1.75rem;">Agent Dashboard</h1>
          <p class="text-gray-400 text-sm mt-1">Or This? Operator Console</p>
        </div>
        <form id="login-form" autocomplete="off">
          <label class="block text-sm font-medium text-gray-700 mb-2">Access Token</label>
          <input
            id="token-input"
            type="password"
            placeholder="Paste your ADMIN_DASHBOARD_TOKEN"
            class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:border-transparent text-gray-900 text-sm"
            style="--tw-ring-color: #E85D4C;"
          >
          <p id="login-error" class="hidden text-red-500 text-sm mt-2 pl-1"></p>
          <button
            type="submit"
            class="btn-coral w-full mt-4 py-3 rounded-xl text-sm font-semibold"
          >Sign in to Dashboard</button>
        </form>
      </div>
      <p class="text-center text-xs text-gray-400 mt-4">
        Set <code class="bg-white px-1 py-0.5 rounded text-gray-600">ADMIN_DASHBOARD_TOKEN</code> in your server .env
      </p>
    </div>
  </div>

  <!-- ‚îÄ‚îÄ‚îÄ App Shell ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div id="app-shell" class="hidden h-screen flex overflow-hidden">

    <!-- Sidebar -->
    <aside id="sidebar" class="w-64 flex-shrink-0 bg-white border-r border-gray-100 flex flex-col shadow-sm z-10">
      <!-- Logo -->
      <div class="px-5 py-5 border-b border-gray-100">
        <div class="flex items-center gap-3">
          <div class="logo-icon">?</div>
          <div>
            <div class="font-semibold text-gray-900 text-sm leading-tight">Or This?</div>
            <div class="text-xs text-gray-400">Agent Console</div>
          </div>
        </div>
      </div>

      <!-- Nav -->
      <nav class="flex-1 p-3 overflow-y-auto space-y-0.5">
        <a href="#overview" data-nav="overview" class="nav-item">
          <span>üìä</span><span>Overview</span>
        </a>
        <a href="#social" data-nav="social" class="nav-item">
          <span>üì±</span><span>Social Posts</span>
          <span id="social-badge" class="ml-auto hidden text-xs font-semibold bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full"></span>
        </a>
        <a href="#queue" data-nav="queue" class="nav-item">
          <span>‚è≥</span><span>Approval Queue</span>
          <span id="queue-badge" class="ml-auto hidden text-xs font-semibold bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full"></span>
        </a>
        <a href="#log" data-nav="log" class="nav-item">
          <span>üìã</span><span>Action Log</span>
        </a>

        <div class="px-3 pt-5 pb-1">
          <p class="text-xs font-medium text-gray-400 uppercase tracking-wider">Agents</p>
        </div>
        <div id="agent-nav-links"></div>
      </nav>

      <!-- Bottom -->
      <div class="p-3 border-t border-gray-100 space-y-1">
        <button id="kill-all-btn" class="btn-danger w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium">
          üõë Kill All Agents
        </button>
        <button id="logout-btn" class="btn-ghost w-full flex items-center justify-center gap-2 px-4 py-2 rounded-xl text-sm">
          ‚Ü© Sign Out
        </button>
      </div>
    </aside>

    <!-- Main Content -->
    <main id="main-content" class="flex-1 overflow-y-auto">
      <div class="max-w-6xl mx-auto p-8">

        <!-- ‚îÄ‚îÄ Overview ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div data-page="overview" class="hidden">
          <div class="mb-8">
            <h1 class="editorial-heading" style="font-size:1.75rem;margin-bottom:4px;">Agent Dashboard</h1>
            <p class="text-gray-400 text-sm mt-1">Autonomous agent workforce at a glance</p>
          </div>
          <div id="stat-cards" class="grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8"></div>
          <div class="mb-8">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">Operator Agents</h2>
            <div id="agent-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>
          </div>
          <div class="mb-8">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">Reporting &amp; Intelligence Agents</h2>
            <div id="reporting-agents" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"></div>
          </div>
          <div>
            <div class="flex items-center justify-between mb-4">
              <h2 class="text-lg font-semibold text-gray-900">Pending Approval</h2>
              <a href="#queue" class="text-sm font-medium" style="color: var(--coral);">View all ‚Üí</a>
            </div>
            <div id="pending-preview"></div>
          </div>
        </div>

        <!-- ‚îÄ‚îÄ Social Posts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div data-page="social" class="hidden">
          <div class="mb-8">
            <h1 class="editorial-heading" style="font-size:1.75rem;margin-bottom:4px;">Social Posts</h1>
            <p class="text-gray-400 text-sm">Review, approve, and publish content to social channels</p>
          </div>
          <div id="social-run-bar" class="card p-4 mb-6" style="display:flex;align-items:center;justify-content:space-between;gap:16px;">
            <div>
              <p style="font-weight:600;font-size:0.875rem;color:#1A1A1A;">Content Engine</p>
              <p class="section-label" style="margin-top:2px;">Mon ¬∑ Wed ¬∑ Fri at 8:30am UTC ‚Äî or run now</p>
            </div>
            <button onclick="handleForceTrigger(this)" class="btn-coral" style="padding:10px 20px;font-size:0.875rem;font-weight:600;white-space:nowrap;">
              ‚ñ∂ Generate Posts Now
            </button>
          </div>
          <div>
            <p class="section-label" style="margin-bottom:12px;">Pending Review</p>
            <div id="social-queue-content"></div>
          </div>
          <div style="margin-top:32px;">
            <p class="section-label" style="margin-bottom:12px;">Recent Posts</p>
            <div id="social-history-content"></div>
          </div>
        </div>

        <!-- ‚îÄ‚îÄ Approval Queue ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div data-page="queue" class="hidden">
          <div class="mb-8">
            <h1 class="editorial-heading" style="font-size:1.75rem;margin-bottom:4px;">Approval Queue</h1>
            <p class="text-gray-400 text-sm mt-1">Review and approve high-risk agent actions</p>
          </div>
          <div id="queue-content"></div>
          <div id="queue-pagination" class="mt-6"></div>
        </div>

        <!-- ‚îÄ‚îÄ Agent Detail ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div data-page="agent" class="hidden">
          <div id="agent-detail-content"></div>
        </div>

        <!-- ‚îÄ‚îÄ Action Log ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div data-page="log" class="hidden">
          <div class="mb-8">
            <h1 class="editorial-heading" style="font-size:1.75rem;margin-bottom:4px;">Action Log</h1>
            <p class="text-gray-400 text-sm mt-1">Full audit trail of every agent action</p>
          </div>
          <div class="flex flex-wrap gap-3 mb-6">
            <select id="log-filter-agent" class="px-3 py-2 border border-gray-200 rounded-xl text-sm text-gray-700 bg-white focus:outline-none">
              <option value="">All Agents</option>
            </select>
            <select id="log-filter-status" class="px-3 py-2 border border-gray-200 rounded-xl text-sm text-gray-700 bg-white focus:outline-none">
              <option value="">All Statuses</option>
              <option value="pending">Pending</option>
              <option value="approved">Approved</option>
              <option value="executed">Executed</option>
              <option value="failed">Failed</option>
              <option value="rejected">Rejected</option>
            </select>
            <select id="log-filter-risk" class="px-3 py-2 border border-gray-200 rounded-xl text-sm text-gray-700 bg-white focus:outline-none">
              <option value="">All Risk Levels</option>
              <option value="low">Low</option>
              <option value="medium">Medium</option>
              <option value="high">High</option>
            </select>
            <button id="log-filter-btn" class="btn-coral px-4 py-2 rounded-xl text-sm font-medium">Apply Filter</button>
          </div>
          <div id="log-content"></div>
          <div id="log-pagination" class="mt-6"></div>
        </div>

      </div>
    </main>
  </div>

  <!-- Toast -->
  <div id="toast" class="hidden">
    <div class="toast-inner toast-success"></div>
  </div>

  <script src="/dashboard/app.js"></script>
</body>
</html>
