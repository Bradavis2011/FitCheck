<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Or This? ‚Äî Agent Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Playfair+Display:ital,wght@0,400;1,400&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            coral: { DEFAULT: '#E85D4C', light: '#FF7A6B', dark: '#C94A3A' },
            cream: { DEFAULT: '#FBF7F4', dark: '#F5EDE7' },
          },
          fontFamily: {
            sans: ['DM Sans', 'ui-sans-serif', 'system-ui'],
          },
          borderRadius: { '2xl': '16px', '3xl': '24px' },
        }
      }
    }
  </script>
  <link rel="stylesheet" href="/dashboard/styles.css">
</head>
<body class="bg-cream font-sans antialiased">

  <!-- ‚îÄ‚îÄ‚îÄ Login Page ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div id="page-login" class="login-split">

    <!-- Editorial illustration panel (desktop only) -->
    <div class="login-editorial-panel">
      <!-- Brand mark -->
      <div class="login-editorial-brand">
        <div class="logo-icon">?</div>
        <span class="login-editorial-brand-name">Or This?</span>
      </div>

      <!-- Editorial photograph -->
      <div class="login-figure-wrap">
        <img src="/dashboard/images/editorial-orange.jpg" alt="" class="login-editorial-img">
        <div class="login-editorial-img-overlay"></div>
      </div>

      <!-- Quote -->
      <div class="login-editorial-footer">
        <p class="login-editorial-quote">Style is a way to say who you are without having to speak.</p>
        <p class="login-editorial-sub">Confidence in every choice.</p>
      </div>
    </div>

    <!-- Form panel -->
    <div class="login-form-panel">
      <div class="login-form-inner">

        <!-- Mobile: logo + title -->
        <div class="login-mobile-header">
          <div class="logo-icon" style="margin:0 auto 16px;">?</div>
          <h1 class="editorial-heading" style="font-size:1.75rem;text-align:center;">Agent Dashboard</h1>
          <p style="color:var(--muted);font-size:0.875rem;text-align:center;margin-top:4px;">Or This? Operator Console</p>
        </div>

        <!-- Desktop: just heading (logo is in editorial panel) -->
        <div class="login-desktop-header">
          <h2 class="login-form-heading">Agent Dashboard</h2>
          <p class="login-form-sub">Or This? Operator Console</p>
        </div>

        <form id="login-form" autocomplete="off">
          <label class="block text-sm font-medium text-gray-700 mb-2">Access Token</label>
          <input
            id="token-input"
            type="password"
            placeholder="Paste your ADMIN_DASHBOARD_TOKEN"
            class="w-full px-4 py-3 border border-gray-200 focus:outline-none focus:ring-2 focus:border-transparent text-gray-900 text-sm"
            style="--tw-ring-color: #E85D4C;"
          >
          <p id="login-error" class="hidden text-red-500 text-sm mt-2 pl-1"></p>
          <button
            type="submit"
            class="btn-coral w-full mt-4 py-3 text-sm font-semibold"
          >Sign in to Dashboard</button>
        </form>
        <p class="text-center text-xs text-gray-400 mt-6">
          Set <code class="bg-white px-1 py-0.5 rounded text-gray-600">ADMIN_DASHBOARD_TOKEN</code> in your server .env
        </p>

      </div>
    </div>

  </div>

  <!-- ‚îÄ‚îÄ‚îÄ App Shell ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div id="app-shell" class="hidden h-screen flex overflow-hidden">

    <!-- Sidebar -->
    <aside id="sidebar" class="w-64 flex-shrink-0 bg-white border-r border-gray-100 flex flex-col shadow-sm z-10">
      <!-- Logo -->
      <div class="px-5 py-5 border-b border-gray-100">
        <div class="flex items-center gap-3">
          <div class="logo-icon">?</div>
          <div>
            <div class="font-semibold text-gray-900 text-sm leading-tight">Or This?</div>
            <div class="text-xs text-gray-400">Agent Console</div>
          </div>
        </div>
      </div>

      <!-- Nav -->
      <nav class="flex-1 p-3 overflow-y-auto space-y-0.5">
        <a href="#overview" data-nav="overview" class="nav-item">
          <span>üìä</span><span>Overview</span>
        </a>
        <a href="#social" data-nav="social" class="nav-item">
          <span>üì±</span><span>Social Posts</span>
          <span id="social-badge" class="ml-auto hidden text-xs font-semibold bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full"></span>
        </a>
        <a href="#queue" data-nav="queue" class="nav-item">
          <span>‚è≥</span><span>Approval Queue</span>
          <span id="queue-badge" class="ml-auto hidden text-xs font-semibold bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full"></span>
        </a>
        <a href="#log" data-nav="log" class="nav-item">
          <span>üìã</span><span>Action Log</span>
        </a>

        <div class="px-3 pt-5 pb-1">
          <p class="text-xs font-medium text-gray-400 uppercase tracking-wider">Agents</p>
        </div>
        <div id="agent-nav-links"></div>
      </nav>

      <!-- Bottom -->
      <div class="p-3 border-t border-gray-100 space-y-1">
        <!-- Editorial fashion accent -->
        <div class="sidebar-editorial-rule" aria-hidden="true"><span class="sidebar-editorial-mark"></span></div>
        <button id="kill-all-btn" class="btn-danger w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium">
          üõë Kill All Agents
        </button>
        <button id="logout-btn" class="btn-ghost w-full flex items-center justify-center gap-2 px-4 py-2 rounded-xl text-sm">
          ‚Ü© Sign Out
        </button>
      </div>
      <div class="sidebar-editorial-accent" aria-hidden="true">
        <img src="/dashboard/images/editorial-sketches.jpg" alt="" class="sidebar-accent-img">
      </div>
    </aside>

    <!-- Main Content -->
    <main id="main-content" class="flex-1 overflow-y-auto">
      <div class="max-w-6xl mx-auto p-8">

        <!-- ‚îÄ‚îÄ Overview ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div data-page="overview" class="hidden">
          <div class="page-hero" style="background-image:url('/dashboard/images/editorial-duo.jpg')">
            <div class="page-hero-overlay"></div>
            <div class="page-hero-content">
              <p class="section-label" style="color:rgba(255,255,255,0.5);margin-bottom:12px;">Or This? Operator Console</p>
              <h1 class="page-hero-title">Agent Dashboard</h1>
            </div>
          </div>
          <div id="stat-cards" class="grid grid-cols-2 lg:grid-cols-4 gap-4" style="padding:32px 0;margin-bottom:0;"></div>
          <span class="editorial-rule"></span>
          <div class="page-section page-section-white">
            <p class="section-label" style="margin-bottom:20px;">Operator Agents</p>
            <div id="agent-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>
          </div>
          <span class="editorial-rule"></span>
          <div class="page-section page-section-cream">
            <p class="section-label" style="margin-bottom:20px;">Reporting &amp; Intelligence</p>
            <div id="reporting-agents" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"></div>
          </div>
          <span class="editorial-rule"></span>
          <div class="page-section page-section-white">
            <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;">
              <p class="section-label">Pending Approval</p>
              <a href="#queue" style="font-size:0.75rem;font-weight:500;letter-spacing:0.1em;text-transform:uppercase;color:var(--coral);text-decoration:none;">View all</a>
            </div>
            <div id="pending-preview"></div>
          </div>
        </div>

        <!-- ‚îÄ‚îÄ Social Posts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div data-page="social" class="hidden">
          <div class="page-split">
            <div class="page-split-img">
              <img src="/dashboard/images/editorial-teal.jpg" alt="" class="page-split-photo">
            </div>
            <div class="page-split-content">
              <span class="editorial-rule" style="margin-bottom:24px;margin-left:0;"></span>
              <p class="section-label" style="margin-bottom:12px;">Content Engine</p>
              <h1 class="page-hero-title" style="color:var(--black);font-size:2.25rem;margin-bottom:16px;">Social Posts</h1>
              <p style="color:var(--muted);font-size:0.875rem;margin-bottom:24px;">Review, approve, and publish content to social channels</p>
              <div style="display:flex;align-items:center;gap:16px;flex-wrap:wrap;">
                <button onclick="handleForceTrigger(this)" class="btn-coral" style="padding:14px 28px;">‚ñ∂ Generate Posts Now</button>
                <p class="section-label">Mon ¬∑ Wed ¬∑ Fri at 8:30am UTC</p>
              </div>
            </div>
          </div>
          <div>
            <p class="section-label" style="margin-bottom:12px;">Pending Review</p>
            <div id="social-queue-content"></div>
          </div>
          <div style="margin-top:32px;">
            <p class="section-label" style="margin-bottom:12px;">Recent Posts</p>
            <div id="social-history-content"></div>
          </div>
        </div>

        <!-- ‚îÄ‚îÄ Approval Queue ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div data-page="queue" class="hidden">
          <div class="page-hero" style="background-image:url('/dashboard/images/editorial-blue.jpg')">
            <div class="page-hero-overlay"></div>
            <div class="page-hero-content">
              <p class="section-label" style="color:rgba(255,255,255,0.5);margin-bottom:12px;">High-risk actions</p>
              <h1 class="page-hero-title">Approval Queue</h1>
            </div>
          </div>
          <div id="queue-content"></div>
          <div id="queue-pagination" class="mt-6"></div>
        </div>

        <!-- ‚îÄ‚îÄ Agent Detail ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div data-page="agent" class="hidden">
          <div id="agent-detail-content"></div>
        </div>

        <!-- ‚îÄ‚îÄ Action Log ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
        <div data-page="log" class="hidden">
          <div class="page-hero" style="background-image:url('/dashboard/images/editorial-tan.jpg')">
            <div class="page-hero-overlay"></div>
            <div class="page-hero-content">
              <p class="section-label" style="color:rgba(255,255,255,0.5);margin-bottom:12px;">Full audit trail</p>
              <h1 class="page-hero-title">Action Log</h1>
            </div>
          </div>
          <div class="flex flex-wrap gap-3 mb-6" style="margin-top:32px;">
            <select id="log-filter-agent" class="px-3 py-2 border border-gray-200 rounded-xl text-sm text-gray-700 bg-white focus:outline-none">
              <option value="">All Agents</option>
            </select>
            <select id="log-filter-status" class="px-3 py-2 border border-gray-200 rounded-xl text-sm text-gray-700 bg-white focus:outline-none">
              <option value="">All Statuses</option>
              <option value="pending">Pending</option>
              <option value="approved">Approved</option>
              <option value="executed">Executed</option>
              <option value="failed">Failed</option>
              <option value="rejected">Rejected</option>
            </select>
            <select id="log-filter-risk" class="px-3 py-2 border border-gray-200 rounded-xl text-sm text-gray-700 bg-white focus:outline-none">
              <option value="">All Risk Levels</option>
              <option value="low">Low</option>
              <option value="medium">Medium</option>
              <option value="high">High</option>
            </select>
            <button id="log-filter-btn" class="btn-coral px-4 py-2 rounded-xl text-sm font-medium">Apply Filter</button>
          </div>
          <div id="log-content"></div>
          <div id="log-pagination" class="mt-6"></div>
        </div>

      </div>
      <div class="photo-credit">Photography by Fabian Kunzel-Zeller &amp; Charlota Blunarova via Unsplash</div>
    </main>
  </div>

  <!-- Toast -->
  <div id="toast" class="hidden">
    <div class="toast-inner toast-success"></div>
  </div>

  <script src="/dashboard/app.js"></script>
</body>
</html>
